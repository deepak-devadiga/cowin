<ion-header translucent="true">
  <ion-toolbar>
    <ion-buttons *ngIf="!showSearchbar" slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Covid Analytics</ion-title>
  </ion-toolbar>
  <ion-row>
    <ion-col class="ion-no-padding">
      <ion-item>
        <ion-label position="stacked">State</ion-label>
        <ion-select [(ngModel)]="stateAnalytics" okText="Okay" cancelText="Dismiss" mode="ios"
          [value]="analyticsData[0]" (ionChange)="selectStateHandler()" [compareWith]="compareWith">
          <ion-select-option *ngFor="let stateAnalytics of analyticsData" [value]="stateAnalytics">
            {{stateAnalytics?.state_name}}
          </ion-select-option>
        </ion-select>
      </ion-item>
    </ion-col>
  </ion-row>
</ion-header>

<ion-content fullscreen="true">


  <ion-grid>
    <ion-row>

      <ion-col size='12'>
        <ion-card>
          <div class="card-chart">
            <app-chart [doughnutChartLabels]="totalLabel" [doughnutChartData]="totalData"
              [doughnutChartColors]="totalColors" [dimension]="dimension" *ngIf="showChart">
            </app-chart>
          </div>

          <ion-card-header>
            <ion-card-subtitle>Latest by {{overallLastUpdatedAt}}</ion-card-subtitle>
            <ion-card-title>Overall Cases</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            Founded in 1829 on an isthmus between Lake Monona and Lake Mendota, Madison was named the capital of the
            Wisconsin Territory in 1836.
          </ion-card-content>
        </ion-card>


      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size='12'>

        <ion-card>
          <div class="card-chart" *ngIf="!latestDataIssue?.status">
            <app-chart [doughnutChartLabels]="totalLatestLabel" [doughnutChartData]="totalLatestData"
              [doughnutChartColors]="totalLatestColors" [dimension]="dimension" *ngIf="showChart">
            </app-chart>
          </div>
          <data-issue [dataIssueType]="latestDataIssue?.type" *ngIf="latestDataIssue?.status"></data-issue>
          <ion-card-header>
            <ion-card-subtitle> Latest by {{lastUpdatedAt}}</ion-card-subtitle>
            <ion-card-title>Latest Cases</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            Founded in 1829 on an isthmus between Lake Monona and Lake Mendota, Madison was named the capital of the
            Wisconsin Territory in 1836.
          </ion-card-content>
        </ion-card>

      </ion-col>
    </ion-row>
  </ion-grid>


</ion-content>
